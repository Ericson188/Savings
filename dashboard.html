<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Anuada Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
    body { 
      font-family: 'Inter', sans-serif;
      background-color: #f8fafc;
      -webkit-tap-highlight-color: transparent;
    }
    .card {
      transition: all 0.2s ease-in-out;
    }
    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 14px rgba(0, 0, 0, 0.08);
    }
    .modal-overlay {
      background-color: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
    }
    /* Mobile-first responsive adjustments */
    @media (max-width: 640px) {
      .mobile-tap {
        min-height: 44px;
        min-width: 44px;
      }
      .mobile-text {
        font-size: 0.875rem;
      }
      .mobile-padding {
        padding: 0.75rem;
      }
    }
    @media (max-width: 380px) {
      .responsive-header {
        flex-direction: column;
        gap: 0.75rem;
        text-align: center;
      }
      .responsive-header h1 {
        font-size: 1.25rem;
      }
      .responsive-stats {
        padding: 1rem !important;
      }
      .responsive-grid {
        grid-template-columns: 1fr !important;
        gap: 0.75rem !important;
      }
      .responsive-text {
        font-size: 0.875rem !important;
      }
    }
    /* Prevent zoom on input focus for mobile */
    @media (max-width: 768px) {
      input, select, textarea {
        font-size: 16px !important;
      }
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-2 sm:p-4">

  <div class="bg-white shadow-lg rounded-xl w-full max-w-3xl overflow-hidden mx-auto">
    <!-- Header -->
    <div class="bg-blue-700 p-3 sm:p-5 text-white">
      <div class="flex flex-col xs:flex-row justify-between items-center responsive-header gap-2 xs:gap-0">
        <div class="flex-1 min-w-0 text-center xs:text-left">
          <h1 class="text-lg sm:text-xl font-bold flex items-center justify-center xs:justify-start">
            <i class="fas fa-piggy-bank mr-2"></i> 
            <span class="truncate">Anuada Savings</span>
          </h1>
          <p class="text-blue-100 text-xs mt-1 truncate">Welcome back, <span id="userEmail" class="truncate">user@example.com</span></p>
        </div>
        <button id="logoutBtn" class="mobile-tap text-xs sm:text-sm bg-blue-800 hover:bg-blue-900 px-3 py-2 rounded-lg transition-all flex items-center whitespace-nowrap mt-2 xs:mt-0">
          <i class="fas fa-sign-out-alt mr-1"></i> Logout
        </button>
      </div>
    </div>

    <!-- Dashboard -->
    <div class="p-3 sm:p-5 space-y-4 sm:space-y-5">
      <!-- Total Savings -->
      <div class="card border border-gray-200 rounded-lg p-3 sm:p-4 bg-blue-50 responsive-stats">
        <div class="flex justify-between items-center">
          <div class="min-w-0 flex-1">
            <p class="text-xs sm:text-sm text-gray-600 mobile-text">Total Savings</p>
            <p id="totalSavings" class="text-xl sm:text-2xl font-bold text-gray-800 truncate">â‚±0.00</p>
          </div>
          <i class="fas fa-wallet text-blue-600 text-xl sm:text-2xl ml-3 flex-shrink-0"></i>
        </div>
      </div>

      <!-- Action Cards -->
      <div class="grid grid-cols-1 xs:grid-cols-2 gap-3 sm:gap-4 responsive-grid">
        <!-- Deposit -->
        <div id="depositCard" class="card mobile-tap border border-gray-200 rounded-lg p-3 sm:p-4 bg-white hover:bg-green-50 cursor-pointer text-center active:scale-95 transition-transform">
          <i class="fas fa-coins text-green-600 text-lg sm:text-xl mb-2"></i>
          <h3 class="font-medium text-sm mobile-text">Deposit</h3>
          <p class="text-xs text-gray-500 mt-1">Add funds</p>
        </div>

        <!-- Withdraw -->
        <div id="withdrawCard" class="card mobile-tap border border-gray-200 rounded-lg p-3 sm:p-4 bg-white hover:bg-red-50 cursor-pointer text-center active:scale-95 transition-transform">
          <i class="fas fa-money-bill-wave text-red-600 text-lg sm:text-xl mb-2"></i>
          <h3 class="font-medium text-sm mobile-text">Withdraw</h3>
          <p class="text-xs text-gray-500 mt-1">Take out funds</p>
        </div>
      </div>

      <!-- Recent Transactions -->
      <div id="openTransactionsModal" class="card mobile-tap border border-gray-200 rounded-lg p-3 sm:p-4 bg-white hover:bg-indigo-50 cursor-pointer active:scale-95 transition-transform">
        <div class="flex justify-between items-center">
          <div class="min-w-0 flex-1">
            <h3 class="font-medium text-sm sm:text-base mobile-text">Recent Transactions</h3>
            <p class="text-xs text-gray-500 truncate">View your latest activities</p>
          </div>
          <i class="fas fa-history text-indigo-600 text-lg sm:text-xl ml-3 flex-shrink-0"></i>
        </div>
      </div>

      <!-- View All Button -->
      <div class="text-center pt-3 sm:pt-4">
        <a href="fetchdata.html" class="mobile-tap inline-flex items-center px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm sm:text-base w-full justify-center active:scale-95 transition-transform">
          <i class="fas fa-list mr-2"></i>
          View All Transactions
        </a>
      </div>
    </div>
  </div>

  <!-- Transactions Modal -->
  <div id="transactionsModal" class="hidden fixed inset-0 modal-overlay flex items-center justify-center z-50 p-2 sm:p-3">
    <div class="bg-white rounded-xl shadow-lg w-full max-w-md mx-auto max-h-[90vh] flex flex-col">
      <div class="p-4 sm:p-5 border-b border-gray-200 flex justify-between items-center flex-shrink-0">
        <div class="min-w-0 flex-1">
          <h2 class="text-base sm:text-lg font-semibold text-gray-800">Recent Transactions</h2>
          <p class="text-gray-500 text-xs truncate">Your latest savings activities</p>
        </div>
        <button id="closeModal" class="mobile-tap text-gray-500 hover:text-red-600 text-xl flex-shrink-0 ml-2">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div id="transactionsList" class="p-4 sm:p-5 overflow-y-auto flex-1 space-y-3 sm:space-y-4">
        <div class="text-center py-4">
          <i class="fas fa-spinner fa-spin text-blue-500 text-xl mb-2"></i>
          <p class="text-gray-500 text-sm">Loading transactions...</p>
        </div>
      </div>

      <!-- View All Button in Modal -->
      <div class="p-4 border-t border-gray-200 text-center flex-shrink-0">
        <a href="fetchdata.html" class="mobile-tap inline-flex items-center text-blue-600 hover:text-blue-800 text-sm font-medium justify-center w-full py-2">
          <i class="fas fa-external-link-alt mr-2"></i>
          View All Transactions
        </a>
      </div>
    </div>
  </div>

  <script type="module" src="./js/dashboard.js"></script>

  <script>
    // Add custom breakpoint for extra small screens
    tailwind.config = {
      theme: {
        extend: {
          screens: {
            'xs': '480px',
          }
        }
      }
    }

    // Mobile-specific enhancements
    document.addEventListener('DOMContentLoaded', function() {
      // Prevent double-tap zoom on buttons
      const buttons = document.querySelectorAll('button, a, .card');
      buttons.forEach(button => {
        button.addEventListener('touchstart', function() {
          this.classList.add('active');
        });
        button.addEventListener('touchend', function() {
          this.classList.remove('active');
        });
      });

      // Better touch handling for modal
      const modal = document.getElementById('transactionsModal');
      if (modal) {
        modal.addEventListener('touchmove', function(e) {
          e.preventDefault();
        }, { passive: false });
      }
    });
  </script>
</body>
</html>